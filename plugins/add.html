<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <title>Mirador</title>
  </head>
  <body>
    <div id="mirador" style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;"></div>
    <script src="../../../../node_modules/react/umd/react.development.js"></script>
    <script src="../../../../node_modules/react-dom/umd/react-dom.development.js"></script>
    <script>document.write("<script type='text/javascript' src='../../../../dist/mirador.min.js?v=" + Date.now() + "'><\/script>");</script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/babel">

      const config = { id: 'mirador', windows: [{manifestId: 'https://purl.stanford.edu/hg676jb4964/iiif/manifest'}] };

      const AddPluginComponentA = (props) => (
        <div id="add-plugin-component-a">
          Plugin A
        </div>
      );

      const AddPluginComponentB = (props) => (
        <div id="add-plugin-component-b">
          Plugin B
        </div>
      );

      const AddPluginComponentC = (props) => (
        <div id="add-plugin-component-c">
          Plugin C
        </div>
      );

      const CustomIcon = () => (
        <svg className="umbrella" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" aria-labelledby="title">
	        <title id="title">Umbrella Icon</title>
          <path d="M27 14h5c0-1.105-1.119-2-2.5-2s-2.5 0.895-2.5 2v0zM27 14c0-1.105-1.119-2-2.5-2s-2.5 0.895-2.5 2c0-1.105-1.119-2-2.5-2s-2.5 0.895-2.5 2v0 14c0 1.112-0.895 2-2 2-1.112 0-2-0.896-2-2.001v-1.494c0-0.291 0.224-0.505 0.5-0.505 0.268 0 0.5 0.226 0.5 0.505v1.505c0 0.547 0.444 0.991 1 0.991 0.552 0 1-0.451 1-0.991v-14.009c0-1.105-1.119-2-2.5-2s-2.5 0.895-2.5 2c0-1.105-1.119-2-2.5-2s-2.5 0.895-2.5 2c0-1.105-1.119-2-2.5-2s-2.5 0.895-2.5 2c0-5.415 6.671-9.825 15-9.995v-1.506c0-0.283 0.224-0.499 0.5-0.499 0.268 0 0.5 0.224 0.5 0.499v1.506c8.329 0.17 15 4.58 15 9.995h-5z"/>
        </svg>
      );

      const WrapPluginComponent = (plugin) => {
        return (
          <div id='wrapped-plugin-with-adds'>
            <plugin.TargetComponent menuIcon={<CustomIcon/>} {...plugin.targetProps} {...plugin} />
          </div>
        )
      }

      const AddPluginComponentE = (props) => (
        <div id="add-plugin-component-e">
          <input value="hello world"/>
        </div>
      );

      const addPluginA = {
        target: 'WorkspaceControlPanelButtons',
        mode: 'add',
        config: {
          foo: 'bar',
        },
        component: <AddPluginComponentA />,
      };

      const addPluginB = {
        target: 'WorkspaceControlPanelButtons',
        mode: 'add',
        component: AddPluginComponentB,
      };

      const addPluginC = {
        target: 'WindowTopBarPluginMenu',
        mode: 'add',
        component: AddPluginComponentC,
      };

      const wrapPluginD = {
        target: 'WindowTopBarPluginMenu',
        mode: 'wrap',
        component: WrapPluginComponent,
      };

      const addPluginE = {
        target: 'WindowTopBarPluginArea',
        mode: 'add',
        component: AddPluginComponentE,
      };

      const miradorInstance = Mirador.viewer(config, [[addPluginA, addPluginB], addPluginC, wrapPluginD, addPluginE]);

     </script>
  </body>
</html>
